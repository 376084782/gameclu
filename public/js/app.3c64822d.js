(function(t){function e(e){for(var s,o,r=e[0],c=e[1],l=e[2],d=0,m=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&m.push(n[o][0]),n[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,r=1;r<a.length;r++){var c=a[r];0!==n[c]&&(s=!1)}s&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},n={app:0},i=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"072c":function(t,e,a){},"35e5":function(t,e,a){},4480:function(t,e,a){},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=i(t);return a(e)}function i(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}n.keys=function(){return Object.keys(s)},n.resolve=i,t.exports=n,n.id="4678"},"56d7":function(t,a,s){"use strict";s.r(a);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("a026"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},["/game"==t.$route.path?[a("iframe",{ref:"iframe",staticClass:"frame-game",attrs:{id:"iframe1",src:t.url,frameborder:"0",onload:t.focusIframe},on:{focus:t.focusIframe}})]:a("div",{attrs:{id:"app"}},[a("c-header"),a("div",{staticClass:"main-scroller"},[a("keep-alive",[a("router-view")],1),a("c-footer")],1)],1),t.logined?a("div",{staticClass:"icon-friend",class:{"has-message":t.showRedPoint},on:{click:function(e){t.showListFriend=!t.showListFriend}}}):t._e(),a("modal-profile"),a("modal-signin"),a("modal-reset"),a("modal-reset-success"),a("modal-change-pwd"),a("modal-create-account"),a("modal-info"),a("modal-fill-info"),t.showListFriend?a("friend-list"):t._e()],2)},o=[],r=s("5530"),c=(s("99af"),s("4d63"),s("ac1f"),s("25f0"),s("466d"),s("841c"),s("8594"),s("ddc9"),s("072c"),s("7878"),s("2f62")),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"friend-list",class:{"show-chat":3==t.page}},[a("div",{staticClass:"list-header"},[a("span",{on:{click:function(e){t.page=1}}},[1!=t.page?a("i",{staticClass:"el-icon-arrow-left"}):t._e(),3!=t.page?[t._v(t._s(t.$t("m.Friends")))]:[t._v(t._s(t.dataSel.name))]],2),1==t.page?a("span",{staticClass:"plus",on:{click:function(e){t.page=2}}},[a("i",{staticClass:"el-icon-circle-plus-outline"})]):t._e()]),2==t.page?a("el-input",{staticClass:"input-search",attrs:{size:"small",placeholder:"","suffix-icon":"el-icon-search"},on:{change:t.doSearch},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}}):t._e(),a("div",{ref:"scroller",staticClass:"scroll"},[a("div",{staticClass:"container"},[2==t.page?t._l(t.listAdd,(function(e,s){return a("div",{key:s,staticClass:"item-friend"},[a("el-avatar",{staticClass:"avatar",attrs:{size:28,src:e.avatar}}),a("span",{staticClass:"name"},[t._v(t._s(e.username))]),a("span",{staticClass:"plus",on:{click:function(a){return t.doAddFriend(e)}}},[a("i",{staticClass:"el-icon-circle-plus-outline"})])],1)})):1==t.page?[t._l(t.listRequest,(function(e,s){return a("div",{key:s,staticClass:"item-add"},[a("div",{staticClass:"point"}),a("div",{staticClass:"top"},[a("el-avatar",{staticClass:"avatar",attrs:{size:28,src:t.circleUrl}}),a("div",{staticClass:"right"},[a("p",{staticClass:"name"},[t._v(t._s(e.name))]),a("p",{staticClass:"cnt"},[t._v("请求添加好友")])])],1),a("div",{staticClass:"btm"},[a("div",{staticClass:"btn",on:{click:function(a){return t.handleRequest(!0,e.userId)}}},[t._v(t._s(t.$t("m.AddTo")))]),a("div",{staticClass:"btn dash",on:{click:function(a){return t.handleRequest(!1,e.userId)}}},[t._v(t._s(t.$t("m.Refuse")))])])])})),t._l(t.listFriend,(function(e,s){return a("div",{key:s,staticClass:"item-friend",on:{click:function(a){return t.goChat(e)}}},[e.flag?a("div",{staticClass:"point"}):t._e(),a("el-avatar",{staticClass:"avatar",attrs:{size:28,src:e.avatar}}),a("span",{staticClass:"name"},[t._v(t._s(e.name))])],1)}))]:3==t.page?t._l(t.chatList,(function(e,s){return a("div",{key:s,staticClass:"item-chat",class:{self:e.userId!=t.userInfo.id,other:e.userId==t.userInfo.id}},[a("el-avatar",{staticClass:"avatar",attrs:{size:28,src:e.userId==t.userInfo.id?t.userInfo.sysUser.avatar:t.dataSel.avatar}}),a("div",{staticClass:"bubble"},[t._v(t._s(e.msg))])],1)})):t._e()],2)]),3==t.page?a("el-input",{staticClass:"textarea-chat",attrs:{type:"textarea"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendChatMsg(e)}},model:{value:t.chatInputValue,callback:function(e){t.chatInputValue=e},expression:"chatInputValue"}}):t._e()],1)},u=[],d=(s("5319"),s("4de4"),s("1fba")),m={computed:Object(r["a"])({},Object(c["c"])(["listFriend","listRequest","userInfo"])),data:function(){return{chatList:[],dataSel:{},listAdd:[],circleUrl:"",searchKey:"",page:1,chatInputValue:""}},mounted:function(){this.initData()},created:function(){var t=this;this.$nextTick((function(e){new d["a"](t.$refs.scroller,{click:!0})}))},methods:{sendChatMsg:function(t){var e=this;if(this.chatInputValue){var a=this.chatInputValue;a=a.replace(/[\r\n]/g,""),this.chatInputValue="",this.$ajax({url:"/api/friend/send",type:"put",params:{userId:this.dataSel.userId,msg:a}}).then((function(t){e.getChatList(e.dataSel.userId)}))}},getChatList:function(t){var e=this;this.$ajax({url:"/api/friend/msg/".concat(t),type:"get",params:{}}).then((function(t){e.chatList=t.list.reverse()}))},initData:function(){this.$store.commit("freshFriendAll")},doSearch:function(){var t=this;this.$ajax({url:"/api/friend/search/".concat(this.searchKey),type:"get",params:{}}).then((function(e){t.listAdd=e.filter((function(e){return e.id!=t.userInfo.id}))}))},doAddFriend:function(t){this.$ajax({url:"/api/friend/".concat(t.id),type:"put",params:{}}).then((function(t){console.log("添加好友结果",t)}))},handleRequest:function(t,e){var a=this;this.$ajax({url:"/api/friend/requests/".concat(t?"agree":"refuse","/").concat(e),type:"put",params:{}}).then((function(t){a.initData()}))},goChat:function(t){this.dataSel=t,this.getChatList(t.userId),this.page=3}}},h=m,f=s("2877"),p=Object(f["a"])(h,l,u,!1,null,null,null),g=p.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[t.subTitle?[a("div",{staticClass:"button btn-back",on:{click:t.goBack}},[a("i",{staticClass:"icon-back"}),t._v(" "+t._s(t.$t("m.BACK"))+" ")]),a("div",{staticClass:"list-menu center"},[a("div",{staticClass:"item-menu active"},[t._v(t._s(t.subTitle))])])]:[a("div",{staticClass:"icon"}),a("div",{staticClass:"list-menu"},t._l(t.menuList,(function(e,s){return a("div",{key:s,staticClass:"item-menu",class:{active:t.selectedMenu==s},on:{click:function(a){return t.clickMenu(e,s)}}},[t._v(t._s(e.name))])})),0)],a("div",{staticClass:"area-right"},[t.$store.getters.token?[a("div",{staticClass:"wrap-coin"},[a("i",{staticClass:"coin"}),t._v(" "+t._s(t.userInfo.money)+" ")]),a("div",{staticClass:"wrap-name mgRight10",on:{click:function(e){t.showDown=!t.showDown}}},[a("div",{staticClass:"avatar-wrap"},[a("img",{attrs:{src:t.userInfo.sysUser&&t.userInfo.sysUser.avatar,alt:""}})]),a("span",[t._v(t._s(t.userInfo.username))]),a("i",{staticClass:"arrow-down"}),t.showDown?a("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.downOuter,expression:"downOuter"}],staticClass:"menu-down"},[a("div",{staticClass:"menu-down-item",on:{click:t.showProfile}},[t._v(t._s(t.$t("m.MyProfile")))]),a("div",{staticClass:"menu-down-item",on:{click:t.doLogOut}},[t._v(t._s(t.$t("m.LogOut")))])]):t._e()])]:[a("el-button",{staticClass:"button",on:{click:t.openDialogSignin}},[a("i",{staticClass:"signin"}),t._v(" "+t._s(t.$t("m.Signin"))+" ")]),a("el-button",{staticClass:"button",on:{click:t.goPlay}},[a("i",{staticClass:"play"}),t._v(" "+t._s(t.$t("m.PlayNow"))+" ")])],a("div",{staticClass:"btn-lang",on:{click:function(e){t.showListLang=!t.showListLang}}},[a("i",{staticClass:"txt-lang"},[t._v(t._s("en-US"==t.$i18n.locale?t.$t("m.en"):t.$t("m.ch")))]),a("i",{staticClass:"icon-down"}),t.showListLang?a("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.downOuter,expression:"downOuter"}],staticClass:"list-lang"},t._l(t.langList,(function(e,s){return a("div",{key:s,staticClass:"item",on:{click:function(a){return a.stopPropagation(),t.doChangLang(e)}}},[t._v(t._s(e.label))])})),0):t._e()])],2)],2)},v=[],w=(s("7db0"),s("9169")),C={props:{},directives:{Clickoutside:w["a"]},computed:Object(r["a"])(Object(r["a"])({},Object(c["c"])(["userInfo"])),{},{subTitle:function(){return this.$route.query.subTitle},langList:function(){return[{label:this.$t("m.en"),type:"en-US"},{label:this.$t("m.ch"),type:"zh-CN"}]},menuList:function(){return[{name:this.$t("m.HOME"),url:"/main"},{name:this.$t("m.PLAY"),url:"/room"},{name:this.$t("m.STORE"),url:"/store"},{name:this.$t("m.MAPS"),url:"/maps"}]}}),data:function(){return{showListLang:!1,showDown:!1,selectedMenu:0}},mounted:function(){this.checkSelected()},watch:{$route:function(){this.checkSelected()}},methods:{downOuter:function(){this.showDown=!1,this.showListLang=!1},doChangLang:function(t){this.$i18n.locale=t.type,this.showListLang=!1},changeLangEvent:function(){var t=this;console.log("changeLangEvent"),this.$confirm(this.$t("m.SureChangeLang"),this.$t("m.Hint"),{confirmButtonText:this.$t("m.Sure"),cancelButtonText:this.$t("m.Cancel"),type:"warning"}).then((function(){"zh-CN"===t.$i18n.locale?(t.$i18n.locale="en-US",console.log("en-US")):(t.$i18n.locale="zh-CN",console.log("zh-CN"))})).catch((function(){console.log("catch")}))},showProfile:function(){this.$store.commit("toggleModalProfile",!0)},doLogOut:function(){this.$store.dispatch("doLogOut")},showModalInfo:function(){this.$store.commit("toggleModalInfo",!0)},goPlay:function(){this.$router.push("/room")},goBack:function(){this.$router.go(-1)},checkSelected:function(){var t=this,e=this.menuList.find((function(e){return e.url==t.$route.path})),a=this.menuList.indexOf(e);e&&(this.selectedMenu=a)},openDialogSignin:function(){this.$store.commit("toggleModalSignin",!0)},clickMenu:function(t,e){this.selectedMenu=e,this.$router.push(t.url)}}},y=C,_=Object(f["a"])(y,b,v,!1,null,null,null),k=_.exports,S=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},j=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer"},[a("i",{staticClass:"icon-footer"}),a("div",{staticClass:"wrap-icon"},[a("i",{staticClass:"facebook1"}),a("i",{staticClass:"Instagram1"}),a("i",{staticClass:"Youtube1"}),a("i",{staticClass:"Twitter1"})]),a("p",{staticClass:"txt mgTop28"},[t._v("@2021 plus2 entertainment，inc，all rights reserved.")]),a("p",{staticClass:"txt mgTop8"},[t._v("All trademarks referenced herein are the properties of their respective owners.")]),a("div",{staticClass:"wrap-btm"},[a("a",{attrs:{href:""}},[t._v("Privacy Notice")]),a("a",{attrs:{href:""}},[t._v("Terms of service")]),a("a",{attrs:{href:""}},[t._v("Cookie Preference")])])])}],$={props:{},data:function(){return{}},methods:{}},I=$,P=Object(f["a"])(I,S,j,!1,null,null,null),M=P.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"modal-signin",attrs:{title:t.$t("m.SignIn"),visible:t.showModalSignin,"before-close":t.handleClose,width:"5rem"},on:{"update:visible":function(e){t.showModalSignin=e}}},[a("el-form",{ref:"form",attrs:{rules:t.rules,model:t.userInfo}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"username"}},[a("el-input",{attrs:{placeholder:t.$t("m.USERNAME")},model:{value:t.userInfo.username,callback:function(e){t.$set(t.userInfo,"username",e)},expression:"userInfo.username"}})],1),a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"password"}},[a("el-input",{attrs:{placeholder:t.$t("m.PASSWORD"),"show-password":""},model:{value:t.userInfo.password,callback:function(e){t.$set(t.userInfo,"password",e)},expression:"userInfo.password"}})],1),a("el-button",{staticClass:"mgTop18 button button-big",on:{click:t.doSignin}},[t._v(t._s(t.$t("m.SignIn")))]),a("div",{staticClass:"line-dash"},[t._v(t._s(t.$t("m.OrSignWith")))]),a("div",{staticClass:"wrap-icon"},[a("i",{staticClass:"facebook clickable",on:{click:t.doLoginByF}}),a("i",{staticClass:"google clickable",attrs:{id:"google_button"}})]),a("div",{staticClass:"btm"},[a("a",{on:{click:t.goModalReset}},[t._v(t._s(t.$t("m.Forget")))]),a("a",{on:{click:t.goCreate}},[t._v(t._s(t.$t("m.CreateAccount")))])])],1)],1)},R=[],O=s("1da1"),D=(s("96cf"),s("d3b7"),s("a4d9"),s("1157")),T=s.n(D),E={props:{},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(c["c"])(["showModalSignin"])),Object(c["b"])(["reqSignin"])),{},{rules:function(){return{username:[{required:!0,message:this.$t("m.RequireUsername"),trigger:"blur"},{min:3,message:this.$t("m.lengthMoreThan3"),trigger:"blur"}],password:[{required:!0,message:this.$t("m.RequirePassword"),trigger:"blur"},{min:6,message:this.$t("m.lengthMoreThan6"),trigger:"blur"}]}}}),data:function(){return{userInfo:{username:"",password:""},Ginited:!1}},watch:{showModalSignin:function(t){t&!this.Ginited&&(this.Ginited=!0,this.initLoginByG())}},mounted:function(){},methods:{getscript:function(t){return Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){T.a.ajaxSetup({cache:!0}),T.a.getScript(t,(function(){e()}))})));case 1:case"end":return e.stop()}}),e)})))()},attachSignin:function(t,e){var a=this;t.attachClickHandler(e,{},(function(e){var s=t.currentUser.get().getBasicProfile();console.log("ggggg"),a.callbackF("g",{userId:s.getId(),username:s.getName(),avatar:s.getImageUrl(),email:s.getEmail()})}),(function(t){console.log(JSON.stringify(t,void 0,2))}))},initLoginByG:function(){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(window.gapi){e.next=3;break}return e.next=3,t.getscript("https://apis.google.com/js/platform.js?onload=init");case 3:gapi.load("auth2",(function(){var e=gapi.auth2.init({client_id:"280788659115-ssfbhi7a485anlracamo0qko9i2doata.apps.googleusercontent.com",cookiepolicy:"single_host_origin",scope:"profile"});t.attachSignin(e,document.getElementById("google_button"))}));case 4:case"end":return e.stop()}}),e)})))()},doLoginByF:function(){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(window.FB){e.next=3;break}return e.next=3,t.getscript("https://connect.facebook.net/en_US/sdk.js");case 3:FB.init({appId:"4341049742574125",version:"v10.0"}),FB.getLoginStatus((function(e){console.log(e,"res"),"connected"==e.status?t.callbackF("f",{userToken:e.authResponse.accessToken,userId:e.authResponse.userID}):FB.login((function(e){"connected"===e.status&&t.callbackF("f",{userToken:e.authResponse.accessToken,userId:e.authResponse.userID})}))}));case 5:case"end":return e.stop()}}),e)})))()},callbackF:function(t,e){console.log("callbackF",e),"g"==t?(this.toggle(!1),this.$store.dispatch("checkLoginByGoogle",e)):"f"==t&&this.$store.dispatch("checkLoginByFacebook",e)},goCreate:function(){this.$store.commit("toggleModalCreateAccount",!0),this.toggle(!1)},goModalReset:function(){this.$store.commit("toggleModalReset",!0),this.toggle(!1)},doSignin:function(){var t=this;console.log(this.$refs["form"]),this.$refs["form"].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.$store.dispatch("reqSignin",t.userInfo).then((function(e){t.toggle(!1),console.log(e,"eee")}))}))},handleClose:function(){this.toggle(!1)},toggle:function(t){this.$store.commit("toggleModalSignin",t)}}},L=E,A=Object(f["a"])(L,x,R,!1,null,null,null),N=A.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog-reset",attrs:{visible:t.showModalReset,width:"5rem","before-close":t.handleClose},on:{"update:visible":function(e){t.showModalReset=e}}},[a("span",{staticClass:"el-dialog__title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("m.EnterEmailToReset")))]),a("el-form",{ref:"form",attrs:{rules:t.rules,model:t.userInfo}},[a("el-form-item",{attrs:{prop:"email"}},[a("el-input",{attrs:{placeholder:t.$t("m.Email")},model:{value:t.userInfo.email,callback:function(e){t.$set(t.userInfo,"email",e)},expression:"userInfo.email"}})],1),a("el-button",{staticClass:"mgTop50 button button-big",on:{click:t.doSendEmail}},[t._v(t._s(t.$t("m.Next")))])],1)],1)},F=[],B={props:{},computed:Object(r["a"])(Object(r["a"])({},Object(c["c"])(["showModalReset"])),{},{rules:function(){return{email:[{type:"email",required:!0,message:this.$t("m.RequireEmail"),trigger:"blur"}]}}}),data:function(){return{userInfo:{username:"",password:""}}},methods:{doSendEmail:function(){var t=this;console.log(1212),this.$refs["form"].validate((function(e){e&&t.$ajax({url:"/user/reset/password",type:"POST",params:t.userInfo}).then((function(e){t.toggle(!1),t.$store.commit("toggleModalResetSuccess",{flag:!0,email:t.userInfo.email})}))}))},handleClose:function(){this.toggle(!1)},toggle:function(t){this.$store.commit("toggleModalReset",t)}}},z=B,q=Object(f["a"])(z,G,F,!1,null,null,null),U=q.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog-reset",attrs:{visible:t.showModalResetSuccess,width:"5rem","before-close":t.handleClose,title:"Reset Password"},on:{"update:visible":function(e){t.showModalResetSuccess=e}}},[a("p",{staticClass:"txt"},[t._v(t._s(t.$t("m.ResetEmailSend")))]),a("el-button",{staticClass:"mgTop50 button button-big",on:{click:t.doSendEmail}},[t._v(t._s(t.$t("m.Resend")))]),a("div",{staticClass:"btm mgTop18"},[a("a",{attrs:{href:""},on:{click:t.goModalSignin}},[t._v(t._s(t.$t("m.BackSignPage")))])])],1)},H=[],J={props:{},computed:Object(r["a"])({},Object(c["c"])(["showModalResetSuccess","currentModalData"])),data:function(){return{userInfo:{username:"",password:""}}},methods:{goModalSignin:function(){this.toggle(!1),this.$store.commit("toggleModalSignin",!0)},doSendEmail:function(){console.log(this.currentModalData.email,"this.currentModalData.email"),this.$ajax({url:"/user/reset/password",type:"POST",params:{email:this.currentModalData.email}}).then((function(t){})).catch((function(t){console.log("errrr")}))},handleClose:function(){this.toggle(!1)},toggle:function(t){this.$store.commit("toggleModalResetSuccess",{flag:t})}}},V=J,K=Object(f["a"])(V,W,H,!1,null,null,null),Y=K.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog-change-pwd",attrs:{visible:t.showModalChangePwd,width:"5rem",title:t.$t("m.ChangePassword"),"before-close":t.handleClose},on:{"update:visible":function(e){t.showModalChangePwd=e}}},[a("el-form",{ref:"form",attrs:{rules:t.rules,model:t.userInfo}},[a("el-form-item",{attrs:{prop:"passwordNew"}},[a("el-input",{attrs:{"show-password":"",placeholder:t.$t("m.NEWPASSWORD")},on:{blur:function(e){t.focusInPwd=!1},focus:function(e){t.focusInPwd=!0}},model:{value:t.userInfo.passwordNew,callback:function(e){t.$set(t.userInfo,"passwordNew",e)},expression:"userInfo.passwordNew"}})],1),a("el-form-item",{attrs:{prop:"password2"}},[a("el-input",{attrs:{placeholder:t.$t("m.CONFIRMPASSWORD"),"show-password":""},model:{value:t.userInfo.password2,callback:function(e){t.$set(t.userInfo,"password2",e)},expression:"userInfo.password2"}})],1),a("el-button",{staticClass:"mgTop50 button button-big",on:{click:t.doChangePsw}},[t._v(t._s(t.$t("m.Next")))])],1)],1)},Q=[],Z={props:{},computed:Object(r["a"])(Object(r["a"])({},Object(c["c"])(["showModalChangePwd"])),{},{rules:function(){var t=this,e=function(e,a,s){""===a?s(new Error(t.$t("m.Require"))):a!==t.userInfo.passwordNew?s(new Error(t.$t("m.PswNotSame"))):s()};return{password2:[{validator:e,trigger:"blur"}],passwordNew:[{required:!0,message:this.$t("m.RequirePassword"),trigger:"blur"},{min:6,message:this.$t("m.lengthMoreThan6"),trigger:"blur"}]}}}),data:function(){return{focusInPwd:!1,userInfo:{username:"",password:"",passwordNew:""}}},methods:{doChangePsw:function(){var t=this;this.$refs["form"].validate((function(e){e&&t.$ajax({url:"/api/user/modify/password",type:"put",params:{newPwd:t.userInfo.passwordNew}}).then((function(e){t.$message("修改成功"),t.toggle(!1)}))}))},toggle:function(t){this.$store.commit("toggleModalChangePwd",t)},handleClose:function(){this.toggle(!1)}}},tt=Z,et=Object(f["a"])(tt,X,Q,!1,null,null,null),at=et.exports,st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog-info",attrs:{visible:t.showModalInfo,width:"5rem","before-close":t.handleClose},on:{"update:visible":function(e){t.showModalInfo=e}}},[a("p",{staticClass:"txt-lighter"},[t._v(t._s(t.username))]),a("div",{staticClass:"avatar-wrap"},[a("img",{attrs:{src:t.avatar,alt:""}}),a("div",{staticClass:"avatar-icon-wrap"},[a("i",{staticClass:"el-icon-camera-solid",on:{click:t.uploadImg}})])]),a("div",{staticClass:"btm"},[a("a",{attrs:{href:"javascript:;"},on:{click:t.goChangePwd}},[t._v(t._s(t.$t("m.ChangePassword")))])]),a("template",{slot:"footer"},[a("el-button",{staticClass:"button button0",on:{click:t.doCancel}},[t._v(t._s(t.$t("m.Cancel")))]),a("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:t.doSave}},[t._v(t._s(t.$t("m.Save")))])],1)],2)},nt=[],it=s("a3e9"),ot=s("53ca"),rt=(s("a9e3"),s("1276"),s("5cc6"),s("9a8c"),s("a975"),s("735e"),s("c1ac"),s("d139"),s("3a7b"),s("d5d6"),s("82f8"),s("e91f"),s("60bd"),s("5f96"),s("3280"),s("3fcc"),s("ca91"),s("25a1"),s("cd26"),s("3c5d"),s("2954"),s("649e"),s("219c"),s("170b"),s("b39a"),s("72f7"),s("2b3d"),s("3ca3"),s("ddb0"),s("9129"),{});function ct(t){return["image/png","image/jpeg","image/gif"].some((function(e){return e===t}))}rt.urltoImage=function(t){return new Promise((function(e,a){var s=new Image;s.onload=function(){return e(s)},s.onerror=function(){return a(new Error("urltoImage(): Image failed to load, please check the image URL"))},s.src=t}))},rt.urltoBlob=function(t){return fetch(t).then((function(t){return t.blob()}))},rt.imagetoCanvas=function(){var t=Object(O["a"])(regeneratorRuntime.mark((function t(e){var a,s,n,i,o,r,c,l=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(r in a=l.length>1&&void 0!==l[1]?l[1]:{},s=document.createElement("canvas"),n=s.getContext("2d"),a)Object.prototype.hasOwnProperty.call(a,r)&&(a[r]=Number(a[r]));a.scale?(c=a.scale>0&&a.scale<10?a.scale:1,o=e.width*c,i=e.height*c):(o=a.width||a.height*e.width/e.height||e.width,i=a.height||a.width*e.height/e.width||e.height),[5,6,7,8].some((function(t){return t===a.orientation}))?(s.height=o,s.width=i):(s.height=i,s.width=o),t.t0=a.orientation,t.next=3===t.t0?9:6===t.t0?12:8===t.t0?15:2===t.t0?18:4===t.t0?22:5===t.t0?27:7===t.t0?32:37;break;case 9:return n.rotate(180*Math.PI/180),n.drawImage(e,-s.width,-s.height,s.width,s.height),t.abrupt("break",38);case 12:return n.rotate(90*Math.PI/180),n.drawImage(e,0,-s.width,s.height,s.width),t.abrupt("break",38);case 15:return n.rotate(270*Math.PI/180),n.drawImage(e,-s.height,0,s.height,s.width),t.abrupt("break",38);case 18:return n.translate(s.width,0),n.scale(-1,1),n.drawImage(e,0,0,s.width,s.height),t.abrupt("break",38);case 22:return n.translate(s.width,0),n.scale(-1,1),n.rotate(180*Math.PI/180),n.drawImage(e,-s.width,-s.height,s.width,s.height),t.abrupt("break",38);case 27:return n.translate(s.width,0),n.scale(-1,1),n.rotate(90*Math.PI/180),n.drawImage(e,0,-s.width,s.height,s.width),t.abrupt("break",38);case 32:return n.translate(s.width,0),n.scale(-1,1),n.rotate(270*Math.PI/180),n.drawImage(e,-s.height,0,s.height,s.width),t.abrupt("break",38);case 37:n.drawImage(e,0,0,s.width,s.height);case 38:return t.abrupt("return",s);case 39:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),rt.canvastoFile=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/jpeg";return new Promise((function(s){return t.toBlob((function(t){return s(t)}),a,e)}))},rt.canvastoDataURL=function(){var t=Object(O["a"])(regeneratorRuntime.mark((function t(e,a,s){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return ct(s)||(s="image/jpeg"),t.abrupt("return",e.toDataURL(s,a));case 2:case"end":return t.stop()}}),t)})));return function(e,a,s){return t.apply(this,arguments)}}(),rt.filetoDataURL=function(t){return new Promise((function(e){var a=new FileReader;a.onloadend=function(t){return e(t.target.result)},a.readAsDataURL(t)}))},rt.dataURLtoImage=function(t){return new Promise((function(e,a){var s=new Image;s.onload=function(){return e(s)},s.onerror=function(){return a(new Error("dataURLtoImage(): dataURL is illegal"))},s.src=t}))},rt.dataURLtoFile=function(){var t=Object(O["a"])(regeneratorRuntime.mark((function t(e,a){var s,n,i,o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=e.split(","),n=s[0].match(/:(.*?);/)[1],i=atob(s[1]),o=i.length,r=new Uint8Array(o);while(o--)r[o]=i.charCodeAt(o);return ct(a)&&(n=a),t.abrupt("return",new Blob([r],{type:n}));case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),rt.downloadFile=function(t,e){var a=document.createElement("a");a.href=window.URL.createObjectURL(t),a.download=e||Date.now().toString(36),document.body.appendChild(a);var s=document.createEvent("MouseEvents");s.initEvent("click",!1,!1),a.dispatchEvent(s),document.body.removeChild(a)},rt.compress=function(){var t=Object(O["a"])(regeneratorRuntime.mark((function t(e){var a,s,n,i,o,r,c,l,u=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=u.length>1&&void 0!==u[1]?u[1]:{},e instanceof Blob){t.next=3;break}throw new Error("compress(): First arg must be a Blob object or a File object.");case 3:if("object"!==Object(ot["a"])(a)&&(a=Object.assign({quality:a})),a.quality=Number(a.quality),!Number.isNaN(a.quality)){t.next=7;break}return t.abrupt("return",e);case 7:return t.next=9,rt.filetoDataURL(e);case 9:return s=t.sent,n=s.split(",")[0].match(/:(.*?);/)[1],i="image/jpeg",ct(a.type)&&(i=a.type,n=a.type),t.next=15,rt.dataURLtoImage(s);case 15:return o=t.sent,t.next=18,rt.imagetoCanvas(o,Object.assign({},a));case 18:return r=t.sent,t.next=21,rt.canvastoDataURL(r,a.quality,i);case 21:return c=t.sent,t.next=24,rt.dataURLtoFile(c,n);case 24:return l=t.sent,t.abrupt("return",l);case 26:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),rt.compressAccurately=function(){var t=Object(O["a"])(regeneratorRuntime.mark((function t(e){var a,s,n,i,o,r,c,l,u,d,m,h,f,p,g=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=g.length>1&&void 0!==g[1]?g[1]:{},e instanceof Blob){t.next=3;break}throw new Error("compressAccurately(): First arg must be a Blob object or a File object.");case 3:if("object"!==Object(ot["a"])(a)&&(a=Object.assign({size:a})),a.size=Number(a.size),!Number.isNaN(a.size)){t.next=7;break}return t.abrupt("return",e);case 7:if(!(1024*a.size>e.size)){t.next=9;break}return t.abrupt("return",e);case 9:return a.accuracy=Number(a.accuracy),(!a.accuracy||a.accuracy<.8||a.accuracy>.99)&&(a.accuracy=.95),s={max:a.size*(2-a.accuracy)*1024,accurate:1024*a.size,min:a.size*a.accuracy*1024},t.next=14,rt.filetoDataURL(e);case 14:return n=t.sent,i=n.split(",")[0].match(/:(.*?);/)[1],o="image/jpeg",ct(a.type)&&(o=a.type,i=a.type),t.next=20,rt.dataURLtoImage(n);case 20:return r=t.sent,t.next=23,rt.imagetoCanvas(r,Object.assign({},a));case 23:c=t.sent,l=.75,u=.5,m=[null,null],h=1;case 28:if(!(h<=7)){t.next=50;break}return t.next=31,rt.canvastoDataURL(c,u,o);case 31:if(d=t.sent,f=d.length*l,7!==h){t.next=36;break}return(s.max<f||s.min>f)&&(d=[d].concat(m).filter((function(t){return t})).sort((function(t,e){return Math.abs(t.length*l-s.accurate)-Math.abs(e.length*l-s.accurate)}))[0]),t.abrupt("break",50);case 36:if(!(s.max<f)){t.next=41;break}m[1]=d,u-=Math.pow(.5,h+1),t.next=47;break;case 41:if(!(s.min>f)){t.next=46;break}m[0]=d,u+=Math.pow(.5,h+1),t.next=47;break;case 46:return t.abrupt("break",50);case 47:h++,t.next=28;break;case 50:return t.next=52,rt.dataURLtoFile(d,i);case 52:if(p=t.sent,!(p.size>e.size)){t.next=55;break}return t.abrupt("return",e);case 55:return t.abrupt("return",p);case 56:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();var lt=rt,ut=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,a=t.height>=t.width,s=a?t.height:t.width,n=a?t.width:t.height,i=n,o=s;s>e&&(o=e,i=n*e/s);var r={width:a?i:o,height:a?o:i};return r},dt=T()('<input type="file" id="uploadInput"/>');dt.css({display:"none"});var mt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(e,a){0==T()("#uploadInput").length&&T()("body").append(dt),dt.unbind(),dt.bind("change",(function(s){ft(dt[0],t,(function(t){ht(t).then((function(a){e({file:t,img:a})}))}),(function(t){a(t)}))})),dt.trigger("click")}))};function ht(t){return new Promise((function(e,a){var s=new FileReader;s.onload=function(t){e(t.target.result)},s.readAsDataURL(t),s.onerror=function(){a(new Error("blobToBase64 error"))}}))}var ft=function(){var t=Object(O["a"])(regeneratorRuntime.mark((function t(e,a,s,n){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(it["getImageSize"])(e.files[0]).then((function(t){var a=ut(t,200),s=204800/dt[0].files[0].size;s>1&&(s=1);var n=lt.compress(e.files[0],{quality:s,type:"image/jpeg",width:a.width,height:a.height});return n}));case 2:return i=t.sent,s(i),t.abrupt("return",i);case 5:case"end":return t.stop()}}),t)})));return function(e,a,s,n){return t.apply(this,arguments)}}(),pt={props:{},computed:Object(r["a"])({},Object(c["c"])(["showModalInfo"])),data:function(){return{focusInPwd:!1,username:"",avatar:"",avatarFile:null}},watch:{showModalInfo:function(t){t&&this.resetInfo()}},methods:{resetInfo:function(){this.username=this.$store.getters.userInfo.username,this.avatar=this.$store.getters.userInfo.sysUser.avatar},doCancel:function(){this.handleClose()},doSave:function(){var t=this;this.$ajax({url:"/api/user/avatar",type:"post",useForm:!0,params:{file:this.avatarFile}}).then((function(e){t.$store.dispatch("checkLogined")}))},uploadImg:function(){var t=this;mt().then((function(e){var a=e.img,s=e.file;console.log(a,s),t.avatar=a,t.avatarFile=s}))},goChangePwd:function(){this.$store.commit("toggleModalChangePwd",!0)},handleClose:function(){this.toggle(!1)},toggle:function(t){this.$store.commit("toggleModalInfo",t)}}},gt=pt,bt=Object(f["a"])(gt,st,nt,!1,null,null,null),vt=bt.exports,wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog-info",attrs:{visible:t.showModalCreateAccount,width:"5rem","before-close":t.handleClose,title:t.title},on:{"update:visible":function(e){t.showModalCreateAccount=e}}},[1==t.step?a("div",[a("el-form",{ref:"form1",attrs:{rules:t.rules,model:t.userInfo}},[a("el-form-item",{attrs:{prop:"email"}},[a("el-input",{attrs:{placeholder:t.$t("m.Email")},model:{value:t.userInfo.email,callback:function(e){t.$set(t.userInfo,"email",e)},expression:"userInfo.email"}})],1),a("el-form-item",{attrs:{prop:"gender"}},[a("el-select",{attrs:{placeholder:t.$t("m.GENDER")},model:{value:t.userInfo.gender,callback:function(e){t.$set(t.userInfo,"gender",e)},expression:"userInfo.gender"}},[a("el-option",{key:"male",attrs:{label:"male",value:"1"}}),a("el-option",{key:"female",attrs:{label:"female",value:"2"}})],1)],1),a("el-form-item",{attrs:{prop:"birthday"}},[a("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:t.$t("m.BIRTHDAY")},model:{value:t.userInfo.birthday,callback:function(e){t.$set(t.userInfo,"birthday",e)},expression:"userInfo.birthday"}})],1)],1),a("p",{staticClass:"txt txt-left mgTop8"},[t._v(t._s(t.$t("m.WhyNeed")))]),a("el-button",{staticClass:"mgTop18 button button-big",on:{click:t.doStepNext}},[t._v(t._s(t.$t("m.Next")))]),a("div",{staticClass:"wrap-step"},t._l(t.maxStep,(function(e){return a("div",{key:e,staticClass:"item-step",class:{active:t.step==e}})})),0),a("div",{staticClass:"btm mgTop18"},[a("a",{on:{click:t.goSignin}},[t._v(t._s(t.$t("m.AlreadyHaveAccount")))])])],1):2==t.step?a("div",[a("el-form",{ref:"form2",attrs:{rules:t.rules,model:t.userInfo}},[a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{placeholder:t.$t("m.USERNAME")},model:{value:t.userInfo.username,callback:function(e){t.$set(t.userInfo,"username",e)},expression:"userInfo.username"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{placeholder:t.$t("m.PASSWORD"),"show-password":""},model:{value:t.userInfo.password,callback:function(e){t.$set(t.userInfo,"password",e)},expression:"userInfo.password"}})],1),a("el-form-item",{attrs:{prop:"password2"}},[a("el-input",{attrs:{placeholder:t.$t("m.CONFIRMPASSWORD"),"show-password":""},model:{value:t.userInfo.password2,callback:function(e){t.$set(t.userInfo,"password2",e)},expression:"userInfo.password2"}})],1),a("el-form-item",{attrs:{prop:"policyChecked"}},[a("el-checkbox",{staticClass:"floatLeft",model:{value:t.userInfo.policyChecked,callback:function(e){t.$set(t.userInfo,"policyChecked",e)},expression:"userInfo.policyChecked"}},[t._v(t._s(t.$t("m.AgreePolicy")))])],1)],1),a("el-button",{staticClass:"mgTop50 button button-big",on:{click:t.doStepNext}},[t._v(t._s(t.$t("m.NEXT")))]),a("div",{staticClass:"wrap-step"},t._l(t.maxStep,(function(e){return a("div",{key:e,staticClass:"item-step",class:{active:t.step==e}})})),0),a("div",{staticClass:"btm mgTop18"},[a("a",{on:{click:function(e){t.step--}}},[t._v(t._s(t.$t("m.Back")))])])],1):a("div",[a("p",{staticClass:"txt"},[t._v(t._s(t.$t("m.FinishAndEnJoy")))]),a("el-button",{staticClass:"mgTop50 button button-big",on:{click:t.doStepNext}},[t._v(t._s(t.$t("m.LetsGo")))]),a("div",{staticClass:"wrap-step mgTop50"},t._l(t.maxStep,(function(e){return a("div",{key:e,staticClass:"item-step",class:{active:t.step==e}})})),0)],1)])},Ct=[],yt={props:{},computed:Object(r["a"])(Object(r["a"])({},Object(c["c"])(["showModalCreateAccount"])),{},{title:function(){return this.$t(this.step>=3?"m.ALLSET":"m.CreateAccount")},rules:function(){var t=this,e=function(e,a,s){a?s():s(new Error(t.$t("m.Require")))},a=function(e,a,s){""===a?s(new Error(t.$t("m.Require"))):a!==t.userInfo.password?s(new Error(t.$t("m.PswNotSame"))):s()};return{password2:[{validator:a,trigger:"blur"}],policyChecked:[{validator:e,trigger:"blur"}],username:[{required:!0,message:this.$t("m.RequireUsername"),trigger:"blur"},{min:3,message:this.$t("m.lengthMoreThan3"),trigger:"blur"}],password:[{required:!0,message:this.$t("m.RequirePassword"),trigger:"blur"},{min:6,message:this.$t("m.lengthMoreThan6"),trigger:"blur"}],email:[{type:"email",required:!0,message:this.$t("m.RequireEmail"),trigger:"blur"}],gender:[{required:!0,message:this.$t("m.Require"),trigger:"blur"}],birthday:[{required:!0,message:this.$t("m.Require"),trigger:"blur"}]}}}),watch:{showModalCreateAccount:function(t){t&&(this.step=1,this.focusInPwd=!1,this.userInfo={username:"",password:"",password2:"",policyChecked:!1})}},data:function(){return{maxStep:3,step:1,focusInPwd:!1,userInfo:{username:"",password:"",password2:"",policyChecked:!1}}},methods:{doStepNext:function(){var t=this;switch(this.step){case 1:this.$refs["form1"].validate((function(e){e&&t.$ajax({url:"/api/user/check/email",type:"get",params:t.userInfo}).then((function(e){t.step++}))}));break;case 2:this.$refs["form2"].validate((function(e){e&&t.$ajax({url:"/register",type:"POST",params:t.userInfo}).then((function(e){t.step=3}))}));break;case 3:this.toggle(!1),this.$store.commit("toggleModalSignin",!0);break}},handleClose:function(){this.toggle(!1)},goSignin:function(){this.toggle(!1),this.$store.commit("toggleModalSignin",!0)},toggle:function(t){this.$store.commit("toggleModalCreateAccount",t)}}},_t=yt,kt=Object(f["a"])(_t,wt,Ct,!1,null,null,null),St=kt.exports,jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog-profile",attrs:{visible:t.showModalProfile,"before-close":t.handleClose,width:"5.62rem"},on:{"update:visible":function(e){t.showModalProfile=e}}},[a("p",{staticClass:"name"},[t._v(t._s(t.userInfo.username))]),a("p",{staticClass:"sub"},[t._v("ID:"+t._s(t.userInfo.id))]),a("div",{staticClass:"btn-wrap"},[a("div",{staticClass:"btn mgRight10",on:{click:t.openModalInfo}},[t._v(t._s(t.$t("m.EditProfile")))]),a("div",{staticClass:"btn"},[a("i",{staticClass:"coin"}),t._v(" "+t._s(t.userInfo.money)+" ")])]),a("div",{staticClass:"cnt"},[a("div",{staticClass:"wrap-tab"},[a("div",{staticClass:"tab",class:{active:0==t.tag1},on:{click:function(e){t.tag1=0}}},[t._v(t._s(t.$t("m.GameStats")))]),a("div",{staticClass:"tab",class:{active:1==t.tag1},on:{click:function(e){t.tag1=1}}},[t._v(t._s(t.$t("m.PaymentHistory")))])]),0==t.tag1?[0==t.tag1?a("div",{staticClass:"wrap-list1"},[a("div",{staticClass:"item"},[t._v(" "+t._s(t.$t("m.GamesPlayed"))+" "),a("span",{staticClass:"num"},[t._v(t._s(t.statistics.played))])]),a("div",{staticClass:"item"},[t._v(" "+t._s(t.$t("m.GamesWon"))+" "),a("span",{staticClass:"num"},[t._v(t._s(t.statistics.won))])]),a("div",{staticClass:"item"},[t._v(" "+t._s(t.$t("m.Ganselied"))+" "),a("span",{staticClass:"num"},[t._v(t._s(t.statistics.cancelled))])]),a("div",{staticClass:"item"},[t._v(" "+t._s(t.$t("m.NoShows"))+" "),a("span",{staticClass:"num"},[t._v(t._s(t.statistics.noShows))])])]):t._e(),a("div",{staticClass:"wrap-tab"},[a("div",{staticClass:"tab",class:{active:0==t.tag2},on:{click:function(e){t.tag2=0}}},[t._v(t._s(t.$t("m.Late3")))]),a("div",{staticClass:"tab",class:{active:1==t.tag2},on:{click:function(e){t.tag2=1}}},[t._v(t._s(t.$t("m.AllGamesPlayed")))])]),0==t.tag2?a("div",{staticClass:"wrap-list2"},t._l(t.gameScripts,(function(e,s){return a("div",{key:s,staticClass:"item"},[a("div",{staticClass:"wrap-img"},[a("img",{attrs:{src:e.gamePicture,alt:""}})]),a("span",[t._v(t._s(e.gameName))])])})),0):t._e(),1==t.tag2?a("div",{staticClass:"wrap-list1 scroll-x"},t._l(t.gameHistories,(function(e,s){return a("div",{key:s,staticClass:"item5"},[a("span",{staticClass:"n"},[t._v(t._s(e.gameName))]),a("span",{staticClass:"n"},[t._v(t._s(e.gameTag))]),a("span",{staticClass:"n"},[t._v(t._s(e.gameLength)+" "+t._s(t.$t("hours")))]),a("span",{staticClass:"n"},[t._v(t._s(e.gameUserLimit)+" "+t._s(t.$t("players")))])])})),0):t._e()]:[a("div",{staticClass:"wrap-list6"},t._l(t.listPay,(function(e,s){return a("div",{key:s,staticClass:"item"},[a("span",{staticClass:"title1"},[t._v(t._s(e.context))]),a("span",{staticClass:"title2"},[t._v(t._s(e.subContext))]),a("span",{staticClass:"date"},[t._v(t._s(e.time))]),a("span",{staticClass:"num"},[t._v(t._s(e.coin>0?"+":"")+t._s(e.coin))]),e.id?a("span",{staticClass:"btn",on:{click:function(a){return t.doPayBack(e.id)}}},[t._v(t._s(t.$t("m.RequestRefund")))]):t._e()])})),0)]],2)])},$t=[],It={props:{},computed:Object(r["a"])({},Object(c["c"])(["showModalProfile","userInfo","statistics","gameScripts","gameHistories"])),data:function(){return{listAll:[],tag2:0,tag1:0,focusInPwd:!1,listPay:[]}},watch:{showModalProfile:function(t){t&&this.getList()}},methods:{openModalInfo:function(){this.$store.commit("toggleModalInfo",!0)},doPayBack:function(t){this.$ajax({url:"/pay/refund/".concat(t),type:"post"}).then((function(t){}))},getList:function(){var t=this;this.$ajax({url:"/api/payment/self",type:"get"}).then((function(e){t.listPay=e}))},doCancel:function(){this.resetInfo()},doSave:function(){},handleClose:function(){this.toggle(!1)},toggle:function(t){this.$store.commit("toggleModalProfile",t)}}},Pt=It,Mt=Object(f["a"])(Pt,jt,$t,!1,null,null,null),xt=Mt.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"modal-signin",attrs:{title:t.$t("m.FillInfo"),visible:t.showModalFillInfo,"before-close":t.handleClose,width:"5rem"},on:{"update:visible":function(e){t.showModalFillInfo=e}}},[a("el-form",[a("el-input",{attrs:{placeholder:t.$t("m.Email")},model:{value:t.info.email,callback:function(e){t.$set(t.info,"email",e)},expression:"info.email"}}),a("el-button",{staticClass:"mgTop18 button button-big",on:{click:t.doJoin}},[t._v(t._s(t.$t("m.Save")))])],1)],1)},Ot=[],Dt={props:{},computed:Object(r["a"])(Object(r["a"])({},Object(c["c"])(["showModalFillInfo","selectedRoomData"])),Object(c["b"])(["reqSignin"])),data:function(){return{info:{email:""}}},watch:{showModalRoomPwd:function(t){t&!this.Ginited&&(this.password="")}},mounted:function(){},methods:{doJoin:function(){},handleClose:function(){this.toggle(!1)},toggle:function(t){this.$store.commit("toggleModalFillInfo",t)}}},Tt=Dt,Et=Object(f["a"])(Tt,Rt,Ot,!1,null,null,null),Lt=Et.exports,At={components:{ModalFillInfo:Lt,ModalProfile:xt,FriendList:g,cFooter:M,cHeader:k,ModalSignin:N,ModalReset:U,ModalResetSuccess:Y,ModalChangePwd:at,ModalInfo:vt,ModalCreateAccount:St},data:function(){return{showListFriend:!1,timer:null}},created:function(){var t=this;this.testAjax(),this.$store.dispatch("checkLogined"),this.checkFriend(),this.$nextTick((function(e){window.addEventListener("message",(function(e){e.origin,e.data;switch(e.data.type){case"goBackHall":t.$router.push({path:"/main",query:{exitByGame:1}});break}console.log(e.data,"收到iframe的消息")}),!1)}))},computed:Object(r["a"])({url:function(){var t="./game/index.html";return"".concat(t,"?token=").concat(this.token,"&lang=").concat(this.$i18n.locale)}},Object(c["c"])(["logined","inGame","showRedPoint","token"])),methods:{focusIframe:function(){console.log("focus in iframe"),window.iframe1.focus()},testAjax:function(){},checkFriend:function(){var t=this;clearInterval(this.timer),this.timer=setInterval((function(){t.$store.commit("freshFriendAll")}),3e3)},getQueryString:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),a=window.location.search.substr(1).match(e),s="";return null!=a&&(s=a[2]),e=null,a=null,null==s||""==s||"undefined"==s?"":s}}},Nt=At,Gt=(s("034f"),Object(f["a"])(Nt,i,o,!1,null,null,null)),Ft=Gt.exports,Bt=s("8c4f"),zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-home"},[a("div",{staticClass:"swiper-container"},[a("div",{staticClass:"swiper-wrapper"},t._l(3,(function(e){return a("div",{key:e,staticClass:"wrap1 swiper-slide"},[a("div",{staticClass:"title1"}),a("div",{staticClass:"cnt"},[t._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod")]),t._m(0,!0),a("div",{staticClass:"button play"},[a("i",{staticClass:"play"}),a("span",{staticClass:"mgLeft6",on:{click:t.goGame}},[t._v("Play Now")])])])})),0),a("div",{staticClass:"swiper-pagination"})]),t._m(1)])},qt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap-btn"},[a("div",{staticClass:"button button1 no-touch"},[a("i",{staticClass:"multiplayer"}),a("span",{staticClass:"mgLeft6"},[t._v("Multplayer")])]),a("div",{staticClass:"button button1 no-touch"},[a("i",{staticClass:"time"}),a("span",{staticClass:"mgLeft6"},[t._v("120 Min")])]),a("div",{staticClass:"button button1 no-touch"},[a("i",{staticClass:"age"}),a("span",{staticClass:"mgLeft6"},[t._v("Ages 13+")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap2"},[a("div",{staticClass:"mask"}),a("div",{staticClass:"title2"}),a("div",{staticClass:"line2"}),a("div",{staticClass:"rule"},[a("div",{staticClass:"video1"}),a("div",{staticClass:"rule2"})])])}],Ut=(s("4480"),{name:"Home",components:{},activated:function(){},mounted:function(){},created:function(){this.$nextTick((function(t){new Swiper(".swiper-container",{loop:!0,pagination:".swiper-pagination",autoplay:3e3,paginationClickable:!0})}))},methods:{goPage:function(t){this.$router.push(t)},goGame:function(){this.$router.push("/maps")}}}),Wt=Ut,Ht=Object(f["a"])(Wt,zt,qt,!1,null,null,null),Jt=Ht.exports,Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-room"},[a("div",{staticClass:"room-wrap"},[a("div",{staticClass:"area-left"},[a("div",{staticClass:"wrap-select"},[a("el-select",{staticStyle:{width:"120px"},attrs:{size:"small",placeholder:t.$t("m.Theme")},on:{change:t.doSearch},model:{value:t.searchData.tag,callback:function(e){t.$set(t.searchData,"tag",e)},expression:"searchData.tag"}},t._l(t.listTheme,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1),a("el-select",{staticStyle:{width:"120px"},attrs:{size:"small",placeholder:t.$t("m.Length")},on:{change:t.doSearch},model:{value:t.searchData.length,callback:function(e){t.$set(t.searchData,"length",e)},expression:"searchData.length"}},t._l(t.listLen,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1),a("el-select",{staticStyle:{width:"150px"},attrs:{size:"small",placeholder:t.$t("m.Difficulty")},on:{change:t.doSearch},model:{value:t.searchData.difficulty,callback:function(e){t.$set(t.searchData,"difficulty",e)},expression:"searchData.difficulty"}},t._l(t.listDifficult,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1),a("el-select",{staticStyle:{width:"110px"},attrs:{size:"small",placeholder:t.$t("m.Size")},on:{change:t.doSearch},model:{value:t.searchData.userLimit,callback:function(e){t.$set(t.searchData,"userLimit",e)},expression:"searchData.userLimit"}},t._l(t.listSize,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),a("div",{staticClass:"wrap-checkbox mgTop18"},[a("el-checkbox",{model:{value:t.searchData.isPrivate,callback:function(e){t.$set(t.searchData,"isPrivate",e)},expression:"searchData.isPrivate"}},[t._v(t._s(t.$t("m.ShowPrivateGames")))]),a("el-checkbox",{model:{value:t.searchData.scheduled,callback:function(e){t.$set(t.searchData,"scheduled",e)},expression:"searchData.scheduled"}},[t._v(t._s(t.$t("m.ShowFutureGames")))])],1),a("el-table",{staticClass:"table mgTop18",attrs:{height:"2.9rem",size:"small",data:t.list}},[a("el-table-column",{attrs:{"min-width":"90",label:t.$t("m.Game"),prop:"roomName"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.roomName))]),e.row.scheduleTime?a("div",{staticClass:"tag-schedule"},[a("i",{staticClass:"el-icon-alarm-clock"}),t._v(" "+t._s(e.row.scheduleTime)+" ")]):t._e()]}}])}),a("el-table-column",{attrs:{"min-width":"80",label:t.$t("m.ID"),prop:"roomNum"}}),a("el-table-column",{attrs:{"min-width":"80",label:t.$t("m.Theme"),prop:"gameTag"}}),a("el-table-column",{attrs:{"min-width":"70",label:t.$t("m.Difficulty"),prop:"gameDifficulty"}}),a("el-table-column",{attrs:{"min-width":"60",label:t.$t("m.Length"),prop:"gameLength"}}),a("el-table-column",{attrs:{"min-width":"50",label:t.$t("m.Size"),prop:"userLimit"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.userLive)+"/"+t._s(e.row.userLimit))]}}])}),a("el-table-column",{attrs:{label:"","min-width":"75"},scopedSlots:t._u([{key:"default",fn:function(e){return["schedule"==e.row.type?a("div",{staticClass:"button-join",on:{click:function(a){return t.scheduleGame(e.row)}}},[a("i",{staticClass:"join"}),a("span",[t._v(t._s(t.$t("m.Schedule")))])]):a("div",{staticClass:"button-join",on:{click:function(a){return t.joinGame(e.row)}}},[a("i",{staticClass:"join"}),t._v(" "+t._s(t.$t("m.Join"))+" ")])]}}])})],1),a("el-pagination",{staticClass:"mgTop18 floatLeft",attrs:{"current-page":t.pageData1.pageNo,layout:"total, prev, pager, next, jumper",total:t.pageData1.total},on:{"current-change":t.doSearch}})],1),a("div",{staticClass:"area-right"},[a("div",{staticClass:"wrap-select"},[a("el-input",{attrs:{placeholder:"Find Room"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.doSearch(e)}},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})]),a("div",{staticClass:"btn",on:{click:function(e){return t.createGame(!1)}}},[t._v(t._s(t.$t("m.CreateGame")))]),a("div",{staticClass:"btn",on:{click:function(e){return t.createGame(!0)}}},[a("i",{staticClass:"game"}),t._v(" "+t._s(t.$t("m.ScheduleAGame"))+" ")])],1),a("div",{staticClass:"wrap-checkbox mgTop18"},[a("p",{staticClass:"txt-lighter txt-bold"},[t._v(t._s(t.$t("m.MyScheduledGames")))])]),a("el-table",{staticClass:"table mgTop18",attrs:{height:"2.9rem",size:"small",data:t.listSelf}},[a("el-table-column",{attrs:{"min-width":"100",label:t.$t("m.Game"),prop:"roomName"}}),a("el-table-column",{attrs:{"min-width":"80",label:t.$t("m.StartTime"),prop:"scheduleTime"}}),a("el-table-column",{attrs:{"min-width":"60",label:t.$t("m.Size"),prop:"userLimit"}}),a("el-table-column",{attrs:{"min-width":"70",label:t.$t("m.Difficulty"),prop:"gameDifficulty"}}),a("el-table-column",{attrs:{"min-width":"70",label:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"button-join",on:{click:function(a){return t.joinGame(e.row)}}},[a("i",{staticClass:"join"}),t._v(" "+t._s(t.$t("m.Join"))+" ")]),a("div",{staticClass:"button-join",on:{click:function(a){return t.cancelSchdule(e.row)}}},[a("i",{staticClass:"door"}),t._v(" "+t._s(t.$t("m.Cancel"))+" ")])]}}])})],1)],1)]),a("modal-room-pwd",{attrs:{show:t.showRoomPwd},on:{"update:show":function(e){t.showRoomPwd=e},enterPsw:t.pswEntered}})],1)},Kt=[],Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"modal-signin",attrs:{title:t.$t("m.EnterRoomPwd"),visible:t.show,"before-close":t.handleClose,width:"5rem"}},[a("el-form",[a("el-input",{attrs:{placeholder:t.$t("m.PASSWORD")},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}),a("el-button",{staticClass:"mgTop18 button button-big",on:{click:t.doJoin}},[t._v(t._s(t.$t("m.Join")))])],1)],1)},Xt=[],Qt={props:{show:Boolean},computed:Object(r["a"])(Object(r["a"])({},Object(c["c"])([,"selectedRoomData"])),Object(c["b"])(["reqSignin"])),data:function(){return{inputValue:""}},watch:{show:function(){this.show&&(this.inputValue="")}},mounted:function(){},methods:{doJoin:function(){this.$emit("enterPsw",this.inputValue),this.handleClose()},handleClose:function(){this.toggle(!1)},toggle:function(t){this.$emit("update:show",t)}}},Zt=Qt,te=Object(f["a"])(Zt,Yt,Xt,!1,null,null,null),ee=te.exports,ae=(s("e7b3"),{components:{ModalRoomPwd:ee},computed:Object(r["a"])({},Object(c["c"])(["listDifficult","listSize","listTheme","listLen","userInfo"])),data:function(){return{showRoomPwd:!1,listSelf:[],list:[],searchData:{scheduled:!0,isPrivate:!0,pageNo:1,pageSize:20},selRoom:{},pageData1:{pageNo:1,pageSize:20}}},activated:function(){this.doSearch(),this.getSelfGames()},mounted:function(){this.doSearch(),this.getSelfGames()},methods:{cancelSchdule:function(t){var e=this;this.$ajax({url:"/api/room/schedule/cancel/".concat(t.id),type:"post"}).then((function(t){e.doSearch(),e.getSelfGames()}))},scheduleGame:function(t){var e=this;this.$ajax({url:"/api/game/flow/".concat(this.userInfo.id,"/").concat(t.id,"/room/schedule"),type:"post"}).then((function(t){e.doSearch(),e.getSelfGames()})).catch((function(t){}))},checkWithWrongPsw:function(){e.enMsg},pswEntered:function(t){this.joinGame(this.selRoom,t)},joinGame:function(t,e){var a=this;0!=t.publicFlag?this.$ajax({url:"/api/game/flow/".concat(this.userInfo.id,"/").concat(t.id,"/room/join"),type:"post"}).then((function(t){a.$router.push("/game")})):e?this.$ajax({url:"/api/game/flow/".concat(this.userInfo.id,"/").concat(t.id,"/room/join"),type:"post",params:{roomPwd:e}}).then((function(t){a.$router.push("/game")})):(this.showRoomPwd=!0,this.selRoom=t)},createGame:function(t){this.$router.push({path:"/maps",query:{subTitle:"Select a Map",createGame:1,isSchdule:t?1:0}})},doSearch:function(t){var e=this;console.log(t),this.$ajax({url:"/api/room/list",type:"post",params:this.searchData}).then((function(t){e.list=t.list,e.pageData1=t.pageInfo}))},getSelfGames:function(){var t=this;this.$ajax({url:"/api/room/my/scheduled/list",type:"get"}).then((function(e){t.listSelf=e}))}}}),se=ae,ne=Object(f["a"])(se,Vt,Kt,!1,null,null,null),ie=ne.exports,oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-store"},[a("div",{staticClass:"store-wrap"},[a("p",{staticClass:"title"},[t._v(t._s(t.$t("m.Coins")))]),a("div",{staticClass:"wrap-list"},t._l(t.list,(function(e,s){return a("div",{key:s,staticClass:"item",on:{click:function(a){return t.goBuy(e)}}},[a("i",{staticClass:"coin"}),a("p",{staticClass:"name"},[t._v(t._s(e.coin)+" "+t._s(t.$t("m.coins")))]),a("p",{staticClass:"num"},[t._v("$"+t._s(e.money))]),a("div",{staticClass:"border-selected"})])})),0)]),a("modal-buy",{attrs:{show:t.showModalBuy,conf:t.selectedConf},on:{close:function(e){t.showModalBuy=!1},"update:show":function(e){t.showModalBuy=e},openPayWay:t.onOpenPayWay}}),a("modal-buy-way",{attrs:{show:t.showModalBuyWay,conf:t.selectedConf,number:t.number},on:{paySuccess:t.onPaySuccess,close:function(e){t.showModalBuyWay=!1},"update:show":function(e){t.showModalBuyWay=e}}}),a("modal-buy-success",{attrs:{show:t.showModalBuySuccess,coins:t.coinGot},on:{close:t.onBuySuccess,"update:show":function(e){t.showModalBuySuccess=e}}})],1)},re=[],ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog-buy",attrs:{visible:t.show,width:"5rem",title:t.$t("m.Purchase"),"before-close":t.handleClose},on:{"update:visible":function(e){t.show=e}}},[a("div",{staticClass:"wrap"},[a("el-input",{model:{value:t.number,callback:function(e){t.number=e},expression:"number"}}),a("span",{staticClass:"x"},[t._v("x")]),a("div",{staticClass:"wrap-coin"},[a("i",{staticClass:"coin"}),a("span",[t._v(t._s(t.conf.coin*t.number)+" "+t._s(t.$t("m.coins")))])])],1),a("template",{slot:"footer"},[a("el-button",{staticClass:"button button0",attrs:{type:"primary"},on:{click:t.handleClose}},[t._v(t._s(t.$t("m.Cancel")))]),a("el-button",{staticClass:"button",on:{click:t.toDoPay}},[t._v(t._s(t.$t("m.USD2")))])],1)],2)},le=[];function ue(t){return new Promise((function(e,a){ajax({url:"/pay/getToken",type:"post"}).then((function(a){de(a,t).then((function(t){e(t)}))}))}))}function de(t,e){return new Promise((function(a,s){braintree.client.create({authorization:t},(function(t,n){t?console.error("Error creating client:",t):braintree.paypalCheckout.create({client:n},(function(t,n){t&&console.error("Error creating paypalCheckoutInstance:",t),n.loadPayPalSDK({currency:"USD",intent:"capture"},(function(){e.onBtnCreated&&e.onBtnCreated(),paypal.Buttons({fundingSource:paypal.FUNDING.PAYPAL,createOrder:function(){return e.onOrderCreated&&e.onOrderCreated(),n.createPayment(e.brainTree)},onApprove:function(t,i){return n.tokenizePayment(t,(function(t,n){ajax({url:"/pay/".concat(n.nonce),type:"post",params:e}).then((function(t){a(t)})).catch((function(t){s(null)}))}))},onCancel:function(t){console.log("PayPal payment cancelled",JSON.stringify(t,0,2)),s(null)},onError:function(t){console.error("PayPal error",t),s(null)}}).render("#paypal-button").then((function(){T()("#paypal-button").click()}))}))}))}))}))}var me={props:{show:Boolean,conf:Object},data:function(){return{number:1}},watch:{show:function(t){t&&console.log(this.conf)}},methods:{initData:function(){},toDoPay:function(){var t=this,e=this.$loading({background:"rgba(0,0,0,.8)"}),a=this.conf.id;this.$ajax({url:"/pay/order/".concat(a),type:"get",params:{productId:a,num:this.number}}).then((function(a){console.log(a,"eeee"),t.doPayPal(a).then((function(t){e.close()})).catch((function(t){e.close()}))})).catch((function(t){e.close()}))},doPayPal:function(t){return this.$ajax({url:"/pay",type:"post",params:t}).then((function(t){location.href=t}))},toggle:function(t){this.$emit("input:show",t)},handleClose:function(){this.$emit("close")}}},he=me,fe=Object(f["a"])(he,ce,le,!1,null,null,null),pe=fe.exports,ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog-buy",attrs:{visible:t.show,width:"5rem",title:t.$t("m.PurchaseWay"),"before-close":t.handleClose},on:{"update:visible":function(e){t.show=e}}},[a("div",{attrs:{id:"paypal-button"}})])},be=[],ve={props:{show:Boolean,conf:Object,number:Number},data:function(){return{}},watch:{show:function(t){}},methods:{handleClose:function(){this.$emit("close")},initData:function(){},toDoPay:function(){var t=this,e=this.conf.id,a=this.$loading({background:"rgba(0,0,0,.8)"});this.$ajax({url:"/pay/order/".concat(e),type:"get",params:{productId:e,num:this.number}}).then((function(e){e.onBtnCreated=function(){a.close()},e.onOrderCreated=function(){a.close(),a=t.$loading({background:"rgba(0,0,0,.8)"})},ue(e).then((function(e){a.close(),t.paySuccess()})).catch((function(t){a.close()}))}))},paySuccess:function(){this.handleClose(),this.$emit("paySuccess",this.conf.coin*this.number)},toggle:function(t){this.$emit("input:show",t)}}},we=ve,Ce=Object(f["a"])(we,ge,be,!1,null,null,null),ye=Ce.exports,_e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog-buy-success",attrs:{visible:t.show,width:"5rem",title:t.$t("m.TransactionComplete"),"before-close":t.handleClose},on:{"update:visible":function(e){t.show=e}}},[a("div",{staticClass:"wrap"},[a("div",{staticClass:"wrap-coin"},[a("i",{staticClass:"coin"}),a("span",[t._v(t._s(t.coins)+" "+t._s(t.$t("m.coins")))])])]),a("el-button",{staticClass:"button button-big mgTop50",on:{click:t.handleClose}},[t._v(t._s(t.$t("m.DONE")))])],1)},ke=[],Se={props:{show:Boolean,coins:Number},data:function(){return{number:1}},methods:{handleClose:function(){this.$emit("close")},toggle:function(t){this.$emit("input:show",t)}}},je=Se,$e=Object(f["a"])(je,_e,ke,!1,null,null,null),Ie=$e.exports,Pe=(s("35e5"),{components:{ModalBuy:pe,ModalBuySuccess:Ie,ModalBuyWay:ye},data:function(){return{coinGot:0,showModalBuyWay:!1,selectedConf:{},showModalBuy:!1,showModalBuySuccess:!1,list:[],number:0}},activated:function(){this.initData()},mounted:function(){this.initData()},methods:{onBuySuccess:function(){this.$store.dispatch("checkLogined"),this.showModalBuy=!1,this.showModalBuySuccess=!1},onOpenPayWay:function(t){this.showModalBuyWay=!0,this.number=+t},onPaySuccess:function(t){this.showModalBuySuccess=!0,this.coinGot=t},goBuy:function(t){this.showModalBuy=!0,this.selectedConf=t},initData:function(){var t=this;this.$ajax({url:"/product/list",type:"get"}).then((function(e){t.list=e}))}}}),Me=Pe,xe=Object(f["a"])(Me,oe,re,!1,null,null,null),Re=xe.exports,Oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-map"},[a("div",{staticClass:"map-wrap"},[t._e(),a("div",{staticClass:"wrap-list"},t._l(t.list,(function(e,s){return a("div",{key:s,staticClass:"item",on:{click:function(a){return t.goDetail(e)}}},[a("i",{staticClass:"title"},[t._v(t._s(e.gameName))]),e.gameTag?a("div",{staticClass:"wrap-tags"},t._l(e.gameTag.split(","),(function(e,s){return a("span",{key:s,staticClass:"tag"},[t._v(t._s(e))])})),0):t._e(),a("div",{staticClass:"img-wrap"},[a("img",{attrs:{src:e.gamePicture,alt:""}})]),a("div",{staticClass:"cnt"},[t._v(t._s(e.gameDesc))]),a("div",{staticClass:"coin-wrap"},[a("i",{staticClass:"coin"}),a("span",[t._v(t._s(e.gamePrice))])])])})),0)])])},De=[],Te=(s("d714"),{components:{},computed:Object(r["a"])({},Object(c["c"])(["listDifficult","listSize","listTheme","listLen"])),data:function(){return{searchData:{},list:[]}},mounted:function(){this.initData()},activated:function(){this.initData()},methods:{doSearch:function(){},initData:function(){var t=this;this.$ajax({url:"/api/gs/list",type:"get",params:{}}).then((function(e){t.list=e}))},goDetail:function(t){var e=this.$route.query,a={isSchdule:e.isSchdule||0,createGame:e.createGame||0,mapId:t.id};1==this.$route.query.createGame?a.subTitle="Create Game":a.subTitle="Map Detail",this.$router.push({path:"/mapDetail",query:a})}}}),Ee=Te,Le=Object(f["a"])(Ee,Oe,De,!1,null,null,null),Ae=Le.exports,Ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-detail"},[a("div",{staticClass:"detail-wrap"},[a("div",{staticClass:"wrap-password"},[a("el-checkbox",{model:{value:t.createData.isPrivate,callback:function(e){t.$set(t.createData,"isPrivate",e)},expression:"createData.isPrivate"}},[t._v("Private Game")]),t.createData.isPrivate?a("el-input",{attrs:{size:"small",placeholder:"Set passcode"},model:{value:t.createData.roomPwd,callback:function(e){t.$set(t.createData,"roomPwd",e)},expression:"createData.roomPwd"}}):t._e()],1),a("div",{staticClass:"wrap-img"},[a("img",{attrs:{src:t.data.gamePicture,alt:""}})]),a("div",{staticClass:"wra-cnt"},[a("p",{staticClass:"title"},[t._v(t._s(t.data.gameName))]),t.data.gameTag?a("div",{staticClass:"wrap-tags"},t._l(t.data.gameTag.split(","),(function(e,s){return a("span",{key:s,staticClass:"tag"},[t._v(t._s(e))])})),0):t._e(),a("div",{staticClass:"cnt mgTop18"},[t._v(t._s(t.data.gameDesc))]),a("div",{staticClass:"cnt mgTop18 cnt2"},[t._v(t._s(t.data.scriptContent))]),t.isSchdule?a("el-date-picker",{staticClass:"date-picker border-lighter",attrs:{format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期","picker-options":t.expireTimeOption},model:{value:t.createData.scheduleTime1,callback:function(e){t.$set(t.createData,"scheduleTime1",e)},expression:"createData.scheduleTime1"}}):t._e(),t.createData.scheduleTime1?a("el-time-picker",{staticClass:"mgTop18 date-picker border-lighter",attrs:{format:"HH:mm:ss","value-format":"HH:mm:ss",placeholder:"选择时间","picker-options":t.timePickerOption},model:{value:t.createData.scheduleTime2,callback:function(e){t.$set(t.createData,"scheduleTime2",e)},expression:"createData.scheduleTime2"}}):t._e(),a("div",{staticClass:"wrap-btn"},[t.createGame?[a("div",{staticClass:"button",on:{click:function(e){return t.doCreateGame("aa")}}},[a("i",{staticClass:"coin"}),t._v(" 50 for 1 ")]),a("div",{staticClass:"button button0",on:{click:function(e){return t.doCreateGame("all")}}},[a("i",{staticClass:"coin"}),t._v(" 200 for all players ")])]:[a("div",{staticClass:"button",on:{click:function(e){return t.goCreateGame(!1)}}},[t._v("Create Game")]),a("div",{staticClass:"button button0",on:{click:function(e){return t.goCreateGame(!0)}}},[t._v("Schedule game")])]],2),a("p",{staticClass:"cnt mgTop28"},[t._v("sadasdasd")])],1)])])},Ge=[],Fe=(s("8b1b"),s("c1df")),Be=s.n(Fe),ze={components:{},computed:Object(r["a"])(Object(r["a"])({},Object(c["c"])(["userInfo"])),{},{createGame:function(){return!!+this.$route.query.createGame},isSchdule:function(){return!!+this.$route.query.isSchdule},mapId:function(){return this.$route.query.mapId}}),watch:{createData:function(){var t=new Date,e=t.toString().substr(0,15)===new Date(this.createData.scheduleTime1).toString().substr(0,15);this.timePickerOption=e?{selectableRange:"".concat(Be()().format("HH:mm:ss"),"-23:59:59")}:{}}},data:function(){return{timePickerOption:{},expireTimeOption:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}},date:"",createData:{publicFlag:1},list:[{}],data:{}}},mounted:function(){this.getDetail()},activated:function(){this.getDetail()},methods:{getDetail:function(){var t=this;this.$ajax({url:"/api/gs/info",type:"get",params:{id:this.mapId}}).then((function(e){t.data=e,t.createData={publicFlag:1}}))},doCreateGame:function(t){var e=this;if(this.createData.paymentType=t,this.createData.roomName="".concat(this.$store.getters.userInfo.username,"'s room"),this.createData.gsId=this.mapId,this.createData.publicFlag=this.createData.isPrivate?0:1,this.isSchdule){if(!this.createData.scheduleTime1||!this.createData.scheduleTime2)return void this.$message(this.$t("m.chooseTime"));this.createData.scheduleTime=this.createData.scheduleTime1+" "+this.createData.scheduleTime2}this.createData.isPrivate||(this.createData.roomPwd=null),this.$ajax({url:"/api/room/create",type:"post",params:this.createData}).then((function(t){e.isSchdule?(e.$store.dispatch("checkLogined"),e.$router.push("/room")):e.doJoinGame(t.room.id)}))},doJoinGame:function(t){var e=this;this.$ajax({url:"/api/game/flow/".concat(this.userInfo.id,"/").concat(t,"/room/join"),type:"post",params:this.createData}).then((function(t){e.$store.dispatch("checkLogined"),e.$router.push("/game")}))},goCreateGame:function(t){this.$router.push({path:"/mapDetail",query:{isSchdule:t?1:0,createGame:1,mapId:1,subTitle:"Create Game"}})},goDetail:function(t){}}},qe=ze,Ue=Object(f["a"])(qe,Ne,Ge,!1,null,null,null),We=Ue.exports;n["default"].use(Bt["a"]);var He=[{path:"/",redirect:"/main"},{path:"/main",name:"Home",component:Jt},{path:"/room",name:"Room",component:ie},{path:"/store",name:"Store",component:Re},{path:"/maps",name:"Map",component:Ae},{path:"/mapDetail",name:"MapDetail",component:We}],Je=new Bt["a"]({mode:"hash",base:"/",routes:He});Je.beforeEach((function(t,e,a){var s="/game"==t.path;window["flexibleScrollable"]!=s&&(window["flexibleScrollable"]=s,window["nDesignWid1"]=s?1920:1440,window["nDesignHei1"]=s?1080:900,window.dispatchEvent(new Event("resize"))),"/game"==e.path?t.query.exitByGame?a():a("/game"):a()}));var Ve=Je,Ke={state:function(){return{showModalSignin:!1,showModalReset:!1,showModalResetSuccess:!1,showModalChangePwd:!1,showModalInfo:!1,showModalCreateAccount:!1,showModalProfile:!1,showModalFillInfo:!1,currentModalData:{},selectedRoomData:{}}},mutations:{setSelectedRoom:function(t,e){t.selectedRoomData=e},toggleModalProfile:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.showModalProfile=e},toggleModalSignin:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.showModalSignin=e},toggleModalReset:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.showModalReset=e},toggleModalResetSuccess:function(t,e){var a=e.flag,s=e.email;t.currentModalData={email:s},t.showModalResetSuccess=a},toggleModalChangePwd:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.showModalChangePwd=e},toggleModalInfo:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.showModalInfo=e},toggleModalFillInfo:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.showModalFillInfo=e},toggleModalCreateAccount:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.showModalCreateAccount=e}},actions:{},getters:{currentModalData:function(t){return t.currentModalData},showModalFillInfo:function(t){return t.showModalFillInfo},selectedRoomData:function(t){return t.selectedRoomData},showModalSignin:function(t){return t.showModalSignin},showModalProfile:function(t){return t.showModalProfile},showModalReset:function(t){return t.showModalReset},showModalResetSuccess:function(t){return t.showModalResetSuccess},showModalChangePwd:function(t){return t.showModalChangePwd},showModalInfo:function(t){return t.showModalInfo},showModalCreateAccount:function(t){return t.showModalCreateAccount}}},Ye={state:function(){return{userInfo:{},token:"",inGame:!0,statistics:{},gameScripts:[],gameHistories:[]}},mutations:{setStatistics:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.statistics=e},setUserInfo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.userInfo=e,console.log(e,"infoooooo")},setToken:function(t,e){localStorage.setItem("token",e),t.token=e}},actions:{doLogOut:function(t,e){var a=t.commit;t.state;a("setToken",""),a("setUserInfo",{})},loginFacebook:function(t,e){t.commit,t.state;FB.init({appId:"your-app-id",autoLogAppEvents:!0,xfbml:!0,version:"v10.0"}),FB.login((function(t){}))},checkLogined:function(t,e){var a=t.commit,s=t.state,n=localStorage.getItem("token");if(n)return a("setToken",n),ajax({url:"/api/user/self",type:"get",params:{}}).then((function(t){Ze.commit("toggleModalSignin",!1);var e=1==t.user.sysUser.needComplete;e&&a("toggleModalFillInfo",!0),a("setUserInfo",t.user),s.gameHistories=t.gameHistories,s.gameScripts=t.gameScripts,a("setStatistics",t.statistics),t.gaming&&Ve.push("/game")})).catch((function(t){a("setToken","")}))},reqSignin:function(t,e){var a=t.commit,s=(t.state,e.username),n=e.password;return ajax({url:"/login?remember-me=true",type:"POST",params:{username:s,password:n}}).then((function(t){a("setUserInfo",t.user),a("setToken",t.token),Ze.dispatch("checkLogined")}))},checkLoginByGoogle:function(t,e){var a=t.commit;t.state;return ajax({url:"/google/login",type:"POST",params:e}).then((function(t){a("setUserInfo",t.user),a("setToken",t.token)}))},checkLoginByFacebook:function(t,e){var a=t.commit;t.state;return ajax({url:"/facebook/login",type:"POST",params:{userToken:e.userToken,userId:e.userId}}).then((function(t){a("setToken",t.token),Ze.dispatch("checkLogined")}))}},getters:{gameScripts:function(t){return t.gameScripts},gameHistories:function(t){return t.gameHistories},userInfo:function(t){return t.userInfo},token:function(t){return t.token},logined:function(t){return t.userInfo.username},inGame:function(t){return t.inGame},statistics:function(t){return t.statistics}}},Xe={state:function(){return{listDifficult:[{label:"easy",value:"easy"},{label:"hard",value:"hard"},{label:"very hard",value:"very hard"}],listSize:[{label:"2 players",value:2},{label:"4 players",value:4},{label:"6 players",value:6},{label:"8 players",value:8}],listLen:[{label:"1 hour",value:"1 hour"},{label:"1.5 hour",value:"1.5 hour"},{label:"2 hour",value:"2 hour"},{label:"2.5 hour",value:"2.5 hour"}],listTheme:[{label:"Modern",value:"Modern"},{label:"Other",value:"Other"}]}},mutations:{},actions:{},getters:{listDifficult:function(t){return t.listDifficult},listSize:function(t){return t.listSize},listLen:function(t){return t.listLen},listTheme:function(t){return t.listTheme}}},Qe={state:function(){return{listRequest:[],listFriend:[],page:1,pageSize:50}},mutations:{freshFriendAll:function(t){Ze.getters.token}},actions:{freshRequestList:function(t){t.commit;var e=t.state;ajax({url:"/api/friend/requests",type:"get"}).then((function(t){e.listRequest=t}))},freshFriendList:function(t,e){t.commit;var a=t.state;return ajax({url:"/api/friend",type:"get",params:{pageNo:a.page,pageSize:a.pageSize}}).then((function(t){console.log(t,"frienddata"),a.listFriend=t.list}))}},getters:{listFriend:function(t){return t.listFriend},listRequest:function(t){return t.listRequest},showRedPoint:function(t){return t.listRequest.length>0||t.listFriend.find((function(t){return t.flag}))}}};n["default"].use(c["a"]);var Ze=new c["a"].Store({state:{},mutations:{},actions:{},modules:{ui:Ke,user:Ye,dictionary:Xe,friend:Qe}}),ta=(s("fa6d"),s("455b"),s("5720"),100),ea=1440,aa=900,sa=!1,na=0,ia=0,oa=0,ra="",ca=document.getElementsByName("viewport")[0],la=document.documentElement,ua=document.getElementsByTagName("head"),da=document.getElementsByName("fitsetting")[0],ma=(window.navigator.appVersion.match(/android/gi),window.navigator.appVersion.match(/iphone/gi)),ha=window.devicePixelRatio;if(ia=ma?ha>=3&&(!ia||ia>=3)?3:ha>=2&&(!ia||ia>=2)?2:1:1,da){var fa=da.getAttribute("content"),pa=fa.match(/width=([\d\.]+)/),ga=fa.match(/height=([\d\.]+)/),ba=fa.match(/mode=([\d\.]+)/),va=fa.match(/scale=([\d\.]+)/);ea=pa?+pa[1]:ea,aa=ga?+ga[1]:aa,sa=ba?+ba[1]:sa,na=va&&0!=va?+va[1]:na}oa=0==na?1/ia:na,ia=0==na?ia:1/oa,ra="initial-scale="+oa+", maximum-scale="+oa+", minimum-scale="+oa+', user-scalable=no, shrink-to-fit="no"',window["windowScale"]=oa,la.setAttribute("data-dpr",ia),ca?ca.setAttribute("content",ra):ua?(ca=doc.createElement("meta"),ca.setAttribute("name","viewport"),ca.setAttribute("content",ra),ua.appendChild(metaEl)):console.error("页面缺少<head>标签，自适应失败");var wa=0,Ca=0,ya=function(t,e,a){if(ea=window["nDesignWid1"]||ea,aa=window["nDesignHei1"]||aa,void 0!=window["flexibleScrollable"]&&(sa=window["flexibleScrollable"]),a){var s=[Ca,wa];wa=s[0],Ca=s[1]}var n=la.getBoundingClientRect(),i=t||wa||n.width,o=e||Ca||n.height;wa=t,Ca=e;var r=o/i<aa/ea?o/aa:i/ea;sa||(i<1440&&(i=1440),i>1980&&(i=1980),r=i/ea),la.style.fontSize=r*ta+"px"},_a=s("5c96");n["default"].use(_a["TimePicker"]),n["default"].use(_a["TimeSelect"]),n["default"].use(_a["Tag"]),n["default"].use(_a["Button"]),n["default"].use(_a["Avatar"]),n["default"].use(_a["Select"]),n["default"].use(_a["Dialog"]),n["default"].use(_a["Form"]),n["default"].use(_a["FormItem"]),n["default"].use(_a["Input"]),n["default"].use(_a["DatePicker"]),n["default"].use(_a["Checkbox"]),n["default"].use(_a["Option"]),n["default"].use(_a["Table"]),n["default"].use(_a["TableColumn"]),n["default"].use(_a["Pagination"]),n["default"].use(_a["Loading"].directive),n["default"].prototype.$loading=_a["Loading"].service,n["default"].prototype.$confirm=_a["MessageBox"].confirm,n["default"].prototype.$message=_a["Message"];s("581a");var ka=s("bc3a"),Sa=s.n(ka),ja=Sa.a.create({headers:{"Content-Type":"application/json; charset=utf-8","X-Requested-With":"XMLHttpRequest"}});function $a(t){var e=t.url,a=t.params,s=void 0===a?{}:a,n=t.type,i=void 0===n?"get":n,o=t.noPop,r=void 0!==o&&o,c=t.useForm,l=void 0!==c&&c,u=t.headers,d=void 0===u?{}:u;return-1==e.indexOf("http")&&(e="https://www.theclueonline.com/app"+e),new Promise((function(t,a){d["X-AUTH-TOKEN"]=Ze.getters.token,i=i.toLowerCase();var n={method:i,url:e,headers:d};if(l){var o=new FormData;for(var c in s)o.append(c,s[c]);n.headers["content-type"]="multipart/form-data",n.data=o}else"post"==i?n.data=s:("get"==i||(n.data=s),n.params=s);ja(n).then((function(e){0==e.data.code?t(e.data.data):401==e.data.code?(Ze.commit("setToken",""),Ve.push("/"),Ze.commit("toggleModalSignin",!0)):(!r&&e.data.msg&&Object(_a["Message"])(e.data.msg),a(e.data))})).catch((function(t){console.warn("接口错误",t),a({})}))}))}var Ia,Pa=s("a925"),Ma=s("4897"),xa=s.n(Ma),Ra=s("b2d6"),Oa=s.n(Ra);ya(),window.addEventListener("resize",(function(){clearTimeout(Ia),Ia=setTimeout(ya,300)}),!1),n["default"].config.productionTip=!1,window.ajax=$a,n["default"].prototype.$ajax=$a,n["default"].use(Pa["a"]);var Da=new Pa["a"]({local:"en-US",messages:{"en-US":s("6c23"),"zh-CN":s("756e")}});n["default"].prototype.$lang=Da,xa.a.use(Oa.a),new n["default"]({router:Ve,store:Ze,i18n:Da,render:function(t){return t(Ft)}}).$mount("#app")},"581a":function(t,e,a){},"6c23":function(t,e,a){"use strict";a.r(e),a.d(e,"m",(function(){return i}));var s,n=a("ade3"),i=(s={chooseTime:"Please choose schedule time",en:"EN",ch:"CH",PswNotSame:"password not same",RequireEmail:"please enter your email",Require:"required",RequirePassword:"require password",RequireUsername:"require username",lengthMoreThan6:"length more than 6",lengthMoreThan3:"length more than 3",FillInfo:"Fill Info",EnterRoomPwd:"Room Password",BackSignPage:"BACK TO SIGN IN PAGE",Resend:"Resend Email",ResetEmailSend:"We've emailed password-reset link to your email,if it doesn't arrive soon,click the resend email button to request the link again.",EnterEmailToReset:"Enter the email address that you used to register,We'll send you an email with a link to reset your password.",RequestRefund:"Request refund",AllGamesPlayed:"All Games Played",Late3:"Last 3 games",NoShows:"No Shows",Ganselied:"Late Cancellation",GamesWon:"Games Won",GamesPlayed:"Games Played",PaymentHistory:"Payment History",GameStats:"Game stats",EditProfile:"Edit Profile",AlreadyHaveAccount:"ALREADY HAVE ACCOUNT?",LetsGo:"Let‘s Go",FinishAndEnJoy:"Now get ready and enjoy the games",BACK:"BACK",AgreePolicy:"I agree to the Terms of Use Privacy Policy",ALLSET:"You‘RE ALL SET",CreateAccount:"Create Account",Forget:"Forget your password",OrSignWith:"Or Sign in with",CONFIRMPASSWORD:"CONFIRM PASSWORD",PASSWORD:"PASSWORD",USERNAME:"USERNAME",WhyNeed:"why do we need this ？",BIRTHDAY:"BIRTHDAY",GENDER:"GENDER",Email:"Email",SignIn:"Sign In",Signin:"Signin",PlayNow:"Play Now","zh-CN":"zh","en-US":"en-US",MyProfile:"My Profile",LogOut:"Log out",HOME:"HOME",PLAY:"PLAY",STORE:"STORE",MAPS:"GAMES",Hint:"Hint",SureChangeLang:"Sure To Change Lang?",Sure:"Sure",Cancel:"Cancel",Save:"Save",Friends:"Friends",AddTo:"Add to",Refuse:"Refuse",Theme:"Theme",Length:"Length",Difficulty:"Difficulty",Size:"Size",ShowPrivateGames:"Show private games",ShowFutureGames:"Show future games",Game:"Game",ID:"ID",Schedule:"Schedule",Join:"Join",CreateGame:"Create Game",ScheduleAGame:"Schedule A Game",MyScheduledGames:"My Scheduled Games",StartTime:"Start Time",Coins:"Coins",coins:"coins",Games:"Games",USD2:"USD2",Purchase:"Purchase",TransactionComplete:"Transaction Complete!",DONE:"DONE",PurchaseWay:"Purchase Way",ChangePassword:"Change Password",NEWPASSWORD:"NEW PASSWORD"},Object(n["a"])(s,"CONFIRMPASSWORD","CONFIRM PASSWORD"),Object(n["a"])(s,"Next","Next"),Object(n["a"])(s,"NEXT","NEXT"),Object(n["a"])(s,"hours","hours"),Object(n["a"])(s,"players","players"),s)},"756e":function(t,e,a){"use strict";a.r(e),a.d(e,"m",(function(){return i}));var s,n=a("ade3"),i=(s={chooseTime:"请选择预约时间",en:"英文",ch:"中文",PswNotSame:"密码不一致",RequireEmail:"请输入正确的邮箱",Require:"必填",RequirePassword:"请输入密码",RequireUsername:"请输入用户名",lengthMoreThan6:"长度大于6",FillInfo:"补全信息",EnterRoomPwd:"房间密码",BackSignPage:"返回登录界面",Resend:"重新发送",ResetEmailSend:"重置密码的链接已经发送到您的电子邮箱，没收到电子邮件？点击下方按钮重新发送。",EnterEmailToReset:"输入你注册账户所用的电子邮箱地址，我们会将重置密码的链接发送到你的邮箱中。",RequestRefund:"申请退款",AllGamesPlayed:"所有游戏记录",Late3:"最近3场游戏",NoShows:"爽约次数",Ganselied:"延迟取消预约",GamesWon:"胜利场次",GamesPlayed:"总场次",PaymentHistory:"付款记录",GameStats:"游戏记录",EditProfile:"编辑头像",AlreadyHaveAccount:"已经拥有账号?",LetsGo:"出发",FinishAndEnJoy:"预祝您游戏愉快！",BACK:"返回",AgreePolicy:"我已阅读并同意《服务协议》及《隐私政策》",ALLSET:"申请成功",CreateAccount:"创建账户",Forget:"找回密码",OrSignWith:"其他平台登录",CONFIRMPASSWORD:"确认密码",PASSWORD:"密码",USERNAME:"用户名",WhyNeed:"",BIRTHDAY:"生日",GENDER:"性别",Email:"邮箱",SignIn:"登录",Signin:"登录",PlayNow:"开始游戏","zh-CN":"中文","en-US":"英文",MyProfile:"我的",LogOut:"登出",HOME:"首页",PLAY:"游戏大厅",STORE:"游戏商城",MAPS:"游戏展示",Hint:"提示",SureChangeLang:"是否切换语言？",Sure:"确定",Cancel:"取消",Save:"保存",Friends:"好友列表",AddTo:"添加",Refuse:"拒绝",Theme:"主题",Length:"长度",Difficulty:"难度",Size:"人数",ShowPrivateGames:"显示未公开游戏",ShowFutureGames:"显示未开始游戏",Game:"游戏",ID:"ID",Schedule:"预约",Join:"加入",CreateGame:"创建游戏",ScheduleAGame:"预约游戏",MyScheduledGames:"我预约的游戏",StartTime:"开始时间",Coins:"金币",coins:"金币",Games:"游戏",USD2:"USD2",Purchase:"付款",TransactionComplete:"支付成功！",DONE:"完成",PurchaseWay:"支付方式",ChangePassword:"修改密码",NEWPASSWORD:"新密码"},Object(n["a"])(s,"CONFIRMPASSWORD","确认密码"),Object(n["a"])(s,"Next","下一步"),Object(n["a"])(s,"NEXT","下一步"),Object(n["a"])(s,"hours","小时"),Object(n["a"])(s,"players","玩家"),s)},7878:function(t,e,a){},8594:function(t,e,a){},"85ec":function(t,e,a){},"8b1b":function(t,e,a){},a4d9:function(t,e,a){},d714:function(t,e,a){},ddc9:function(t,e,a){},e7b3:function(t,e,a){}});